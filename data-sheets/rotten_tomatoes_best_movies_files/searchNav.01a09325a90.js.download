function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _superPropGet(e,t,n,r){var i=_get(_getPrototypeOf(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof i?function(e){return i.apply(n,e)}:i}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_superPropBase(e,t);if(r)return(r=Object.getOwnPropertyDescriptor(r,t)).get?r.get.call(arguments.length<3?e:n):r.value}).apply(null,arguments)}function _superPropBase(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _regenerator(){var f,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",n=e.toStringTag||"@@toStringTag";function r(e,t,n,r){var i,o,a,s,l,c,u,d,h,t=t&&t.prototype instanceof y?t:y,t=Object.create(t.prototype);return _regeneratorDefine2(t,"_invoke",(i=e,o=n,u=r||[],d=!1,h={p:c=0,n:0,v:f,a:p,f:p.bind(f,4),d:function(e,t){return a=e,s=0,l=f,h.n=t,m}},function(e,t,n){if(1<c)throw TypeError("Generator is already running");for(d&&1===t&&p(t,n),s=t,l=n;(g=s<2?f:l)||!d;){a||(s?s<3?(1<s&&(h.n=-1),p(s,l)):h.n=l:h.v=l);try{if(c=2,a){if(g=a[e=s?e:"next"]){if(!(g=g.call(a,l)))throw TypeError("iterator result is not an object");if(!g.done)return g;l=g.value,s<2&&(s=0)}else 1===s&&(g=a.return)&&g.call(a),s<2&&(l=TypeError("The iterator does not provide a '"+e+"' method"),s=1);a=f}else if((g=(d=h.n<0)?l:i.call(o,h))!==m)break}catch(e){a=f,s=1,l=e}finally{c=1}}return{value:g,done:d}}),!0),t;function p(e,t){for(s=e,l=t,g=0;!d&&c&&!n&&g<u.length;g++){var n,r=u[g],i=h.p,o=r[2];3<e?(n=o===t)&&(l=r[(s=r[4])?5:s=3],r[4]=r[5]=f):r[0]<=i&&((n=e<2&&i<r[1])?(s=0,h.v=t,h.n=r[1]):i<o&&(n=e<3||r[0]>t||o<t)&&(r[4]=e,r[5]=t,h.n=o,s=0))}if(n||1<e)return m;throw d=!0,t}}var m={};function y(){}function i(){}function o(){}var g=Object.getPrototypeOf,e=[][t]?g(g([][t]())):(_regeneratorDefine2(g={},t,function(){return this}),g),a=o.prototype=y.prototype=Object.create(e);function s(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,_regeneratorDefine2(e,n,"GeneratorFunction")),e.prototype=Object.create(a),e}return _regeneratorDefine2(a,"constructor",i.prototype=o),_regeneratorDefine2(o,"constructor",i),_regeneratorDefine2(o,n,i.displayName="GeneratorFunction"),_regeneratorDefine2(a),_regeneratorDefine2(a,n,"Generator"),_regeneratorDefine2(a,t,function(){return this}),_regeneratorDefine2(a,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:r,m:s}})()}function _regeneratorDefine2(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(_regeneratorDefine2=function(e,t,n,r){function i(t,n){_regeneratorDefine2(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function asyncGeneratorStep(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function i(e){asyncGeneratorStep(r,t,n,i,o,"next",e)}function o(e){asyncGeneratorStep(r,t,n,i,o,"throw",e)}i(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _callSuper(e,t,n){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,n||[],_getPrototypeOf(e).constructor):t.apply(e,n))}function _possibleConstructorReturn(e,t){if(t&&("object"==_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(()=>{var e=window.Component,n=document.createElement("template"),t=(n.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      height: 100%;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    .wrap {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n      background-color: var(--white);\n      padding: 24px;\n    }\n\n      .media-wrap,\n      .celebrities-wrap {\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n      }\n      .media-wrap.hide,\n      .celebrities-wrap.hide {\n        display: none;\n      }\n\n      slot[name="mediaResults"]::slotted(search-results-item:not(:first-of-type))::before,\n      slot[name="celebrityResults"]::slotted(search-results-item:not(:first-child):not(:last-child))::after {\n        content: "";\n        border-bottom: 1px solid #171C201A;\n        width: 97%;\n        display: block;\n        margin: 8px auto; \n      }\n\n        .header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 16px;\n        }\n        .celebrities-wrap .header {\n          margin-top: 16px;\n        }\n\n        .results-wrap { \n          border-radius: 8px;\n          background-color: var(--grayLight1);\n          padding: 8px 0;\n        }\n    \n    @media (min-width: 768px) {\n      .wrap {\n        border-radius: 16px;\n        width: 625px;\n        right: unset;\n        left: unset;\n        top: 82px;\n      }\n    }\n  ','</style>\n    <div class="wrap">\n      <div class="no-results-wrap hide">\n        <rt-text context="label">No Results.</rt-text>\n      </div>\n\n      <div class="media-wrap hide">\n        <div class="header">\n          <rt-text context="label">Movies/TV</rt-text>\n          <slot name="mediaViewAll"></slot>\n        </div>\n        <div class="results-wrap">\n          <slot name="mediaResults"></slot>\n        </div>\n      </div>\n\n      <div class="celebrities-wrap hide">\n        <div class="header">\n          <rt-text context="label">Celebrities</rt-text>\n          <slot name="celebrityViewAll"></slot>\n        </div>\n        <div class="results-wrap">\n          <slot name="celebrityResults"></slot>\n        </div>\n      </div>\n    </div>\n  '),(()=>{function t(){var e;return _classCallCheck(this,t),(e=_callSuper(this,t)).initBool(["hidden","showmedia","showcelebrities"]),e.initSlotted(),e}return _inherits(t,e),_createClass(t,[{key:"template",value:function(){return n}},{key:"_attributeHidden",value:function(){this.hidden?this.ariaExpanded="false":this.ariaExpanded="true"}},{key:"_attributeShowcelebrities",value:function(){this.showcelebrities?this.select(".celebrities-wrap").classList.remove("hide"):this.select(".celebrities-wrap").classList.add("hide"),this._toggleNoResultsWrap()}},{key:"_attributeShowmedia",value:function(){this.showmedia?this.select(".media-wrap").classList.remove("hide"):this.select(".media-wrap").classList.add("hide"),this._toggleNoResultsWrap()}},{key:"_toggleNoResultsWrap",value:function(){this.showmedia||this.showcelebrities?this.select(".no-results-wrap").classList.add("hide"):this.select(".no-results-wrap").classList.remove("hide")}}],[{key:"observedAttributes",get:function(){return["hidden","showmedia","showcelebrities"]}}])})());window.customElements.get("search-results")||window.customElements.define("search-results",t),"undefined"!=typeof module&&(module.exports=t)})(),(()=>{var n=window.Component,r=document.createElement("template"),e=(r.innerHTML="\n    <style>".concat('\n    :host {\n      --placeholderTextColor: rgba(255, 255, 255, 0.6);\n      --searchCancelSpace: 15px;\n\n      display: flex;\n      width: 100%;\n      position: relative;\n      overflow: hidden;\n    }\n\n    :host([hidden]) { display: none }\n\n    .input-group {\n      flex-shrink: 0;\n      position: relative;\n      width: 100%;\n      transition: flex-shrink 0.2s ease;\n      box-sizing: border-box;\n      padding-right: var(--searchCancelSpace);\n    }\n\n    :host([active]) .input-group {\n      flex-shrink: initial;\n    }\n\n    .cancel-container {\n      display: flex;\n    }\n\n    .input-group:not(.empty):focus-within .clear-container {\n      visibility: visible;\n      opacity: 1;\n      transition: opacity 0.2s ease;\n    }\n\n    slot[name="search-input"]::slotted(input),\n    slot[name="search-clear"]::slotted(rt-button),\n    slot[name="search-submit"]::slotted(rt-link) {\n      display: inline-block;\n      border-style: none;\n      font-size: 1rem;\n    }\n\n    slot[name="search-clear"]::slotted(rt-button),\n    slot[name="search-submit"]::slotted(rt-link) {\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n\n    slot[name="search-input"]::slotted(input) {\n      width: 100%;\n      height: 30px;\n      padding-left: 40px;\n      border-radius: 26px;\n      letter-spacing: inherit;\n      font-size: 1rem;\n      font-family: var(--franklinGothicFamily);\n      background: rgba(0, 0, 0, 0.4);\n      color: var(--white);\n      border: 1px solid var(--white);\n      outline: none;\n    }\n    slot[name="search-input"]::slotted(input)::placeholder {\n      color: var(--placeholderTextColor);\n    } \n\n    slot[name="search-submit"]::slotted(rt-link) {\n      --textColor: #FFFFFF;\n\n      left: 15px;\n      display: flex;\n      width: fit-content;\n    }\n\n    slot[name="search-clear"]::slotted(rt-button) {\n      --textColor: #FFFFFF;\n      \n      display: flex;\n      justify-content: flex-end;\n      align-items: center;\n      text-align: center;\n      width: 30px;\n      right: 18px;\n    }\n\n    slot[name="search-cancel"]::slotted(rt-button) {\n      --textColor: #FFFFFF;\n      --lineHeight: 0;\n\n      display: flex;\n      align-items: center;\n    }\n\n    @media (min-width: 768px) {\n      div { padding: 0; }\n\n      slot[name="search-submit"]::slotted(rt-link) { \n        --textColor: #FFFFFF;\n      }\n\n      slot[name="search-input"]::slotted(input) {\n        height: 35px;\n        padding-right: 42px;\n      }\n\n        .input-group {\n          padding-right: 0px;\n        }\n\n        .input-group:focus-within slot[name="search-input"]::slotted(input) {\n          box-shadow: 0 0 0 1px #2a2c32 inset, 0 0 0 2px #e3e3e6 inset;\n        }\n\n      slot[name="search-clear"]::slotted(rt-button) {\n        right: 10px;\n      }\n\n      .cancel-container {\n        display: none;\n      }\n    }\n  ','</style>\n\t\t<div class="input-group empty">\n\t\t\t<slot name="search-input"></slot>\n      <slot name="search-submit"></slot>\n      <div class="clear-container">\n        <slot name="search-clear"></slot>\n      </div>\n    </div>\n    <div class="cancel-container">\n      <slot name="search-cancel"></slot>\n    </div>\n  '),(()=>{function t(){var e;return _classCallCheck(this,t),(e=_callSuper(this,t)).initBool(["active","hidden"]),e.initSlotted(),e}return _inherits(t,n),_createClass(t,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regenerator().m(function e(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.elementsDefined();case 1:return e.a(2)}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return r}}],[{key:"observedAttributes",get:function(){return["active","hidden"]}}]);var e})());window.customElements.get("search-results-controls")||window.customElements.define("search-results-controls",e),"undefined"!=typeof module&&(module.exports=e)})(),(()=>{var e=window.Component,n=document.createElement("template"),t=(n.innerHTML="\n    <style>".concat("\n    :host { \n      display: block;\n      width: 100%;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    a { display: contents; }\n    .tile-wrap {\n      display: grid;\n      grid-template-columns: minmax(0, 55px) repeat(3, minmax(auto, 1fr));\n      grid-template-rows: minmax(1em, auto) 1fr;\n      grid-gap: 0 12px;\n      align-items: center;\n      background-color: var(--grayLight1);\n      border: 1px solid var(--grayLight1);\n      border-radius: 8px;\n      padding: 8px;\n    }\n    .tile-wrap.show-video-thumbnail { align-items: center; }\n    .tile-wrap.show-video-btn { align-items: flex-start; }\n\n      .image-wrap {\n        width: 55px;\n        height: 82px;\n        border: 1px solid var(--grayLight1);\n        margin-right: 8px;\n      }\n        .image-wrap slot::slotted(*) {\n          width: 55px;\n          height: 82.5px;\n          border-radius: 8px;\n          background-color: var(--grayLight2);\n        }\n\n      .content-wrap {\n        grid-column: 2 / 5;\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n        min-width: 0;\n      }\n        .description-wrap a {\n          display: block;\n        }\n        .description-wrap slot::slotted(rt-link) {\n          width: 100%;\n        }\n\n        .video-btn-wrap {\n          margin-top: 8px;\n        }\n          .video-btn-wrap slot::slotted(rt-button) {\n            --buttonPadding: 6px 16px;\n            --buttonWidth: 111px;\n          }\n\n    .video-thumbnail-wrap {\n      grid-column: 1 / 5;\n      grid-row: 2 / 2;\n      margin-top: 8px;\n    }\n      .video-thumbnail-wrap slot::slotted(rt-link) {\n        width: 100%;\n        height: 100%;\n      }\n\n    @media(min-width: 768px) {\n      .video-thumbnail-wrap {\n        grid-column: 1 / 4;\n      }\n    }\n  ",'</style>\n    <div class="tile-wrap">\n      <div class="image-wrap">\n        <slot name="image"></slot>\n      </div>\n      <div class="content-wrap">\n        <div class="description-wrap">\n          <slot name="description"></slot>\n        </div>\n        <div class="video-btn-wrap hide">\n          <slot name="videoBtn"></slot>\n        </div>\n      </div>\n      <div class="video-thumbnail-wrap hide">\n          <slot name="videoThumbnail"></slot>\n      </div>\n    </div>\n  '),(()=>{function t(){var e;return _classCallCheck(this,t),(e=_callSuper(this,t)).initBool(["hidden"]),e.initSlotted(),e.slotEmpty("videoThumbnail")?e.slotEmpty("videoBtn")?e:(e.select(".tile-wrap").classList.add("show-video-btn"),e.select(".video-btn-wrap").classList.remove("hide"),_possibleConstructorReturn(e)):(e.select(".tile-wrap").classList.add("show-video-thumbnail"),e.select(".video-thumbnail-wrap").classList.remove("hide"),_possibleConstructorReturn(e))}return _inherits(t,e),_createClass(t,[{key:"template",value:function(){return n}},{key:"_attributeHref",value:function(){var t=this;this.href&&this.selectAll("a").forEach(function(e){e.href=t.href})}}],[{key:"observedAttributes",get:function(){return["hidden","href"]}}])})());window.customElements.get("search-results-item")||window.customElements.define("search-results-item",t),"undefined"!=typeof module&&(module.exports=t)})(),(()=>{var n=window.Component,r=document.createElement("template"),e=(r.innerHTML="\n    <style>".concat('\n    :host { display: block; }\n    :host([hidden]), .hide { display: none; }\n\n    .gradient {\n      background-color: rgba(0,0,0,0.6);\n      position: absolute;\n      top: 55px;\n      left: 0;\n      height: 100vh;\n      width: 100vw;\n      z-index: 101;\n    }\n\n    slot[name="results"]::slotted(search-results) {\n      width: fit-content;\n      height: calc(100vh - 105px);\n      position: fixed;\n      top: 105px;\n      left: 0;\n      right: 0;\n      z-index: 102;\n      overflow-y: scroll;\n    }\n\n    @media (min-width: 768px) {\n      slot[name="results"]::slotted(search-results) {\n        height: auto;\n        position: absolute;\n        top: 40px;\n        left: 0;\n        filter: drop-shadow(0 0 0.75rem var(--grayDark1));\n        overflow-y: unset;\n      }\n\n      .gradient {\n        background-color: unset;\n      }\n    }\n  ','</style>\n    <div class="search-wrap">\n      <div class="gradient hide"></div>\n      <slot name="controls"></slot>\n      <slot name="results"></slot>\n    </div>\n  '),(()=>{function t(){var e;return _classCallCheck(this,t),(e=_callSuper(this,t)).initBool(["hidden","showresults"]),e.initSlotted(),e}return _inherits(t,n),_createClass(t,[{key:"connectedCallback",value:(e=_asyncToGenerator(_regenerator().m(function e(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.elementsDefined();case 1:this.ready();case 2:return e.a(2)}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return r}},{key:"_attributeShowresults",value:function(){this._isMobile&&(!0===this.showresults?this.select(".gradient").classList.remove("hide"):this.select(".gradient").classList.add("hide"))}}],[{key:"observedAttributes",get:function(){return["hidden","showresults"]}}]);var e})());window.customElements.get("search-results-nav")||window.customElements.define("search-results-nav",e),"undefined"!=typeof module&&(module.exports=e)})(),(()=>{var s=window.Manager,e=(()=>{function t(){var e;return _classCallCheck(this,t),(e=_callSuper(this,t)).traceName="SearchResultsNavManager",e.enforceActions=!0,e.state={action:"constructor",domEventCount:0,domEvent:{},errors:[]},e._getAlgoliaSearchResults=e._getAlgoliaSearchResults.bind(e),e}return _inherits(t,s),_createClass(t,[{key:"connectedCallback",value:(a=_asyncToGenerator(_regenerator().m(function e(){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:_superPropGet(t,"connectedCallback",this,3)([]),this.dom=_objectSpread({doc:document},this.domElements()),this.domActions(["doc:click,focusin,keydown"]),window.algoliasearch&&this.setState({action:"onScriptLoad"});case 1:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"stateUpdated",value:(o=_asyncToGenerator(_regenerator().m(function e(){var o,t,n,i,r,a,s,l,c,u,d,h,p=this;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:h=this.state.action,e.n="onScriptLoad"===h?1:"algoliaSearchFetchFail"===h?2:"algoliaSearchFetchSuccess"===h?3:"initAlgoliaSearch"===h?5:"onCancelBtnClick"===h?6:"onClearBtnClick"===h?7:"onDocClick"===h?8:"onDocFocusin"===h?10:"onDocKeydown"===h?11:"onInputTextClick"===h?16:"onInputTextInput"===h?19:"onInputTextKeydown"===h?20:"onSubmitBtnClick"===h?21:22;break;case 1:return h=RottenTomatoes.thirdParty.algoliaSearch,this.algoliaSearchClient=window.algoliasearch(h.aId,h.sId),this.algoliaInsightInitAttempted=0,this._initAlgoliaInsights(h.aId,h.sId),e.a(3,22);case 2:return e.a(3,22);case 3:if(o=function(e){return"https://resizing.flixster.com/D6aLbOtCJdj4ItAJL_UgDI_lzzA=/".concat(e,"/v2")},n=_slicedToArray(this.state.algoliaSearchResults,2),t=n[0],n=n[1],null!=t&&t.hits||n.hits){e.n=4;break}return e.a(2);case 4:return this._isMobile&&this.dom.body[0].classList.add("scroll-lock"),r=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).map(function(e,t){var n,r=e.vanity?("movie"===e.type.toLowerCase()?"/m/":"/tv/").concat(e.vanity):"#",t=0===t&&(null==(t=e.trailer)?void 0:t.thumbnailUrl),i=Boolean(null==(i=e.trailer)?void 0:i.publicId);return _objectSpread(_objectSpread({},e),{},{description:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=[];return e&&n.push(String(e)),t.length&&n.push.apply(n,_toConsumableArray(t)),n.length?n.slice(0,4).join(" &bullet; "):""}(e.releaseYear,null==(n=e.castCrew)?void 0:n.cast),overviewPageUrl:r,posterImageUrl:e.posterImageUrl?"".concat(o("206x305"),"/").concat(e.posterImageUrl):"none",showVideoThumbnail:t,showVideoBtn:i,videoPageUrl:i?"".concat(r,"/videos/").concat(null==(n=e.trailer)?void 0:n.publicId):r},t&&{videoRunTime:null!=(i=e.trailer)&&i.runTime?(r=null==(n=e.trailer)?void 0:n.runTime,i=Math.floor(r/60),r=String(Math.floor(r%60)).padStart(2,"0"),"".concat(i,":").concat(r)):"",videoTitle:(null==(n=e.trailer)?void 0:n.title)||"Trailer",videoThumbnail:t?null!=(i=e.trailer)&&i.thumbnailUrl?"".concat(o("1100x618"),"/").concat(e.trailer.thumbnailUrl):"none":""})})},i={celebrities:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return _objectSpread(_objectSpread({},e),{},{celebrityPageUrl:e.vanity?"/celebrity/".concat(e.vanity):"#",profileImageUrl:e.profileImageUrl?"".concat(o("206x305"),"/").concat(e.profileImageUrl):""})})}(n.hits.slice(0,5)),media:r(t.hits.slice(0,5)),searchPageUrl:"/search?search=".concat(encodeURIComponent(this.state.searchTerm))},e.a(2,new Promise(function(n,r){nunjucks.render("_searchResults",i,function(e,t){return e?r(e):(i.media.length?p.dom.searchResults[0].showmedia=!0:p.dom.searchResults[0].showmedia=!1,i.celebrities.length?p.dom.searchResults[0].showcelebrities=!0:p.dom.searchResults[0].showcelebrities=!1,p.dom.searchResults[0].classList.remove("hide"),p.dom.searchResults[0].innerHTML="",p.dom.searchResults[0].insertAdjacentHTML("beforeend",t),p.dom.search[0].showresults=!0,p.dom.searchResults[0].hidden=!1,n(!0))})}));case 5:return this.dispatch({nextState:this._getAlgoliaSearchResults,nextAction:{success:"algoliaSearchFetchSuccess",fail:"algoliaSearchFetchFail"}}),e.a(3,22);case 6:return this.dom.body[0].classList.remove("scroll-lock"),this._isMobile&&([this.dom.mobileHeaderNavWrap[0],this.dom.rtNavLogo[0],this.dom.btnArti[0],this.dom.search[0]].forEach(function(e){return e.style.cssText=""}),this.dom.search[0].showresults=!1,this.dom.searchControls[0].active=!1,this.dom.searchResults[0].hidden=!0,this.dom.inputText[0].value="",this.dom.submitBtn[0].href=""),e.a(3,22);case 7:return this.dom.body[0].classList.remove("scroll-lock"),this.dom.searchResults[0].hidden=!0,this.dom.inputText[0].value="",this.dom.submitBtn[0].href="",e.a(3,22);case 8:if(this.state.domEvent.composedPath().includes(this.dom.search[0]))return e.a(2);e.n=9;break;case 9:return this.dom.searchResults[0].hidden=!0,e.a(3,22);case 10:return this.dom.searchResults[0].hidden=!this.state.domEvent.composedPath().includes(this.dom.search[0]),e.a(3,22);case 11:if("Escape"===this.state.domEvent.code&&this.state.domEvent.composedPath().includes(this.dom.search[0]))return this.dom.searchResults[0].hidden=!0,e.a(2);e.n=12;break;case 12:if("/"!==this.state.domEvent.key)return e.a(2);e.n=13;break;case 13:if(["INPUT","TEXTAREA","CRITICS-SELF-SUBMISSION-FORM-DEPRECATED"].includes(document.activeElement.tagName))return e.a(2);e.n=14;break;case 14:return e.n=15,this.pause();case 15:return this.dom.inputText[0].focus(),e.a(3,22);case 16:if(this.state.algoliaSearchResults){e.n=17;break}return e.a(2);case 17:if(r=_slicedToArray(this.state.algoliaSearchResults,2),a=r[0],l=r[1],null!=a&&a.hits||l.hits){e.n=18;break}return e.a(2);case 18:return this.dom.searchResults[0].hidden=!1,e.a(2);case 19:return a=this.dom.searchControls[0],s=this.state.domEvent.currentTarget.value||"",a.classList[s?"remove":"add"]("empty"),this._isMobile&&!a.active&&([this.dom.mobileHeaderNavWrap[0],this.dom.rtNavLogo[0],this.dom.btnArti[0]].forEach(function(e){return e.style.cssText="opacity: 0; width: 0; margin: 0; padding: 0;"}),l=_slicedToArray(this.dom.search,1),d=l[0],c=d.offsetWidth,u=this.dom.mobileHeaderNavWrap[0].offsetWidth+this.dom.rtNavLogo[0].offsetWidth,d.style.cssText="width: ".concat(c+u,"px; margin-left: 0;"),a.active=!0),clearTimeout(this.waitForInput),this.waitForInput=setTimeout(function(){p.dom.submitBtn[0].href="/search/?search=".concat(encodeURIComponent(s))},300),2<=s.length&&this.setState({action:"initAlgoliaSearch",searchTerm:s}),e.a(3,22);case 20:return d=this.state.searchTerm,"Enter"===this.state.domEvent.key&&d&&window.location.replace("/search?search=".concat(encodeURIComponent(d))),e.a(3,22);case 21:if(this.state.searchTerm){e.n=22;break}return e.a(2,this.state.domEvent.preventDefault());case 22:return e.a(2)}},e,this)})),function(){return o.apply(this,arguments)})},{key:"_generateUUID",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}},{key:"_getCookie",value:function(e){return e&&2===(e="; ".concat(window.document.cookie).split("; ".concat(e,"="))).length?e.pop().split(";").shift():void 0}},{key:"_getAlgoliaSearchResults",value:(i=_asyncToGenerator(_regenerator().m(function e(){var t,n,r;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=this.state.searchTerm){e.n=1;break}return e.a(2,!1);case 1:return n=[{indexName:"content_rt",params:n={analyticsTags:["header_search"],clickAnalytics:!0,filters:"isEmsSearchable = 1",hitsPerPage:5},query:t},{indexName:"people_rt",params:n,query:t}],e.p=2,e.n=3,this.algoliaSearchClient.multipleQueries(n);case 3:return n=e.v,r=n.results,e.a(2,{algoliaSearchResults:r});case 4:e.p=4,0;case 5:return e.a(2)}},e,this,[[2,4]])})),function(){return i.apply(this,arguments)})},{key:"_hashToken",value:(r=_asyncToGenerator(_regenerator().m(function e(t){var n,r;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return n=new TextEncoder,n=n.encode(t),e.n=1,crypto.subtle.digest("SHA-256",n);case 1:return n=e.v,r=Array.from(new Uint8Array(n)),e.a(2,r.map(function(e){return e.toString(16).padStart(2,"0")}).join(""))}},e)})),function(e){return r.apply(this,arguments)})},{key:"_initAlgoliaInsights",value:function(e,t){var n=this;if(!window.aa&&this.algoliaInsightInitAttempted<3)return setTimeout(function(){n.algoliaInsightInitAttempted=n.algoliaInsightInitAttempted+1,n._initAlgoliaInsights(e,t)},3500);3<=this.algoliaInsightInitAttempted&&!window.aa||window.aa("init",{appId:e,apiKey:t})}},{key:"_retrieveTokenHash",value:(n=_asyncToGenerator(_regenerator().m(function e(){var t;return _regenerator().w(function(e){for(;;)if(0===e.n)return(t=this._getCookie("algoliaUT"))||(t=this._generateUUID(),this._setCookie("algoliaUT",t)),e.a(2,this._hashToken(t))},e,this)})),function(){return n.apply(this,arguments)})},{key:"_setCookie",value:function(e,t,n){var r,i;e&&(r="",n&&((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),r="; expires="+i.toUTCString()),document.cookie=e+"="+(t||"")+r+"; path=/; secure; SameSite=Strict")}},{key:"setAlgoliaInsightUserToken",value:(e=_asyncToGenerator(_regenerator().m(function e(){var t,n,r;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._retrieveTokenHash();case 1:r=e.v,null!=(t=(n=window).aa)&&t.call(n,"setUserToken",r);case 2:return e.a(2)}},e,this)})),function(){return e.apply(this,arguments)})}]);var e,n,r,i,o,a})();window.customElements.get("search-results-nav-manager")||window.customElements.define("search-results-nav-manager",e),"undefined"!=typeof module&&(module.exports=e)})();